<%- include('partials/header') %>
<%- include('partials/main_nav') %>

<section class="container py-4">
  <h1 class="mb-4">Place an Order</h1>
  <form id="orderForm" class="row g-3">
    <!-- Form fields -->
    <div class="col-md-6"><label for="customerName" class="form-label">Customer Name</label><input type="text" id="customerName" class="form-control" required></div>
    <div class="col-md-6"><label for="customerEmail" class="form-label">Email</label><input type="email" id="customerEmail" class="form-control" required></div>
    <div class="col-md-6"><label for="item" class="form-label">Item</label><input type="text" id="item" class="form-control" placeholder="e.g. Cupcakes" required></div>
    <div class="col-md-3"><label for="quantity" class="form-label">Quantity</label><input type="number" id="quantity" class="form-control" min="1" required></div>
    <div class="col-md-3"><label for="pickupDate" class="form-label">Pickup Date</label><input type="date" id="pickupDate" class="form-control" required></div>
    <div class="col-12"><label for="notes" class="form-label">Special Requests / Notes</label><textarea id="notes" class="form-control" rows="2"></textarea></div>
    <input type="hidden" id="orderId">
    <div class="col-12">
      <button type="submit" class="btn btn-success"><i class="fa-solid fa-floppy-disk me-1"></i> Save Order</button>
      <button type="button" class="btn btn-secondary ms-2" id="resetFormBtn">Clear Form</button>
    </div>
  </form>
</section>

<section class="container py-4">
  <h2 class="mb-3">Active Orders</h2>
  <div class="table-responsive">
    <table class="table table-striped align-middle" id="ordersTable">
      <thead class="table-dark">
        <tr><th>#</th><th>Customer</th><th>Item</th><th>Qty</th><th>Pickup</th><th>Status</th><th>Actions</th></tr>
      </thead>
      <tbody><!-- jQuery will insert rows here --></tbody>
    </table>
  </div>
</section>

<%- include('partials/footer') %>
<script>
  const isLoggedIn = <%= currentUser ? 'true' : 'false' %>;
</script>
<script src="/js/orders.js"></script>
